# Fur Free Europe

## 1. Introduction

This project is designed to generate **economic, environmental, and social projections** for the fur market across different indicators and countries. It supports scenario-based projections (currently `S0`) and can easily be extended for additional scenarios in the future.  

The project is implemented in **Python**, leveraging modular and reusable code structures to handle:  

- Loading input data from Excel.  
- Generating projections for multiple indicators.  
- Producing figures with a consistent theme.  
- Organizing output data and figures by scenario.  

---

## 2. File Structure

The project has the following folder and file structure:

```
project/
│
├── data/
│   └── input.xlsx                   # Input Excel file with raw indicator data
│
├── indicators/                      # Folder containing indicator-specific Python files
│   ├── Fur_EU_Industry_Cost_Account.py
│   ├── Amount_Of_Pelts_Produced_Per_MS.py
│   └── ... (other indicators)
│
├── output/
│   └── S0_output/                   # Output folder for scenario S0
│       ├── projected_data.xlsx      # Excel file with projected data
│       └── figures/                 # Figures generated by each indicator
│
├── figure_theme.py                  # Centralized theme settings for figures
├── init.py                          # Script for project initialization (folders, indicator files, empty Excel)
├── main.py                          # Main script for running projections and generating figures
└── README.md                        # This file
```


---

## 3. `init.py`

The `init.py` script is responsible for **initializing the project environment**. Its main tasks include:

1. Creating the `indicators/` folder and generating **stub Python files** for each indicator with the required functions (`run_projection_S0(df)` and `make_figures_S0(df, theme)`).
2. Creating the output folder structure for the scenario (`output/S0_output/` and `figures/`).
3. Creating an **empty Excel file** (`projected_data.xlsx`) with:
   - One tab per indicator.
   - An empty `projection_log` tab.

**Usage:**

```bash
python init.py
```
This should be run once at the start of the project before generating any projections.


## 4. main.py and figure_theme.py

### main.py

The `main.py` script handles the core workflow:

- Loading input data from the Excel file.
- Running projections for selected indicators.
- Generating figures using a centralized theme.
- Saving projected data and updating the `projection_log`.

**Key features:**

- Scenario-based projection support (currently `S0`).
- Modular functions for readability and maintainability.
- Ability to override previous projections with `override_previous_projection=True`.
- Passes a `theme` object to all figure functions for consistent styling.

### figure_theme.py

This module contains the centralized figure styling used across all indicators. It defines:

- Default figure size.
- Font sizes for titles, labels, ticks, and legends.
- Default colors and line styles.
- A method to apply global matplotlib settings.

Indicators use this theme to ensure all figures are visually consistent.

---

## 5. indicators/ Folder (High Level)

- Each indicator has its own Python file in the `indicators/` folder.
- Each file contains **two public functions per scenario**:
  1. `run_projection_S0(df)` – Generates projection data.
  2. `make_figures_S0(df, theme)` – Creates figures using the theme.
- Indicator files are initially stubs and should be completed with actual projection logic.

**Example:** `ID2.py` contains `run_projection_S0(df)` and `make_figures_S0(df, theme)`.

---

## 6. Input Data

- The input Excel file (`data/input.xlsx`) contains raw data for all indicators.
- Each indicator has its own **tab**, named exactly as the indicator (e.g., `ID2`, `Fur_EU_Industry_Cost_Account`, etc.).
- This structure ensures projections are automatically aligned with the correct indicator.

---

## 7. High-Level Workflow

1. **Initialize the project** using `init.py`:
   - Creates folders, indicator files, and an empty Excel template.
2. **Run projections** using `main.py`:
   - Loads input data.
   - Runs projection functions for selected indicators.
   - Generates figures using the centralized theme.
   - Updates `projected_data.xlsx` and `projection_log`.
3. **Review output**:
   - Projected data in `output/S0_output/projected_data.xlsx`.
   - Figures in `output/S0_output/figures/`.
4. **Extend scenarios**:
   - Add new projection scenarios (e.g., `S1`) by creating scenario-specific functions in each indicator file.
   - Update `main.py` to support new scenarios.

> This structure ensures a **clean separation between initialization, projections, and visualization**, making the project modular, maintainable, and scalable.
